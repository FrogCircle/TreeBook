<section data-ng-controller="UserController" data-ng-init="init()">
<!-- USER PROFILE -->
  <!-- Cover -->
  <div class='container-fluid'>
    <div class="jumbotron">

    </div>

    
    <div class='row'>

      <!-- Overview -->
      <div class="col-sm-3">
        <div class="thumbnail">
          <p><!-- spacing --></p>
          <img ng-src="{{user.imageUrl}}" alt="..." class="profile-user-image">
          <div class="caption">
            <h3>{{user.name}}</h3>
            <div ng-if="isProfileOwner" style="text-align: center;">
              <button class="btn btn-primary" role="button" ng-file-select ng-file-change="upload($files)" ng-multiple="multiple">
                Upload Image
              </button>
              <div style="color:red;" ng-if="user.uploadError">{{user.uploadError}}</div>
            </div>
          </div>
        </div>

        <h3>My Forest</h3>
        <div ng-repeat="like in likes">
          <div>
           <a ng-href="#!/trees/{{like.id}}">{{like.name}}</a>
          </div>
        </div>


      </div>

      <div class='col-sm-9'>
        <!-- TABS -->
        <ul class="nav nav-tabs">
          <li role="presentation" class="active"><a ng-href="#">Feed</a></li>
          <!-- FOREST -->
          <li role="presentation"><a ng-href="#">Forest</a></li>
          <!-- MESSAGES -->
          <li role="presentation"><a ng-href="#">Messages</a></li>
        </ul>

        <!-- STATUS -->
        <div class="panel panel-default">
          <div class="panel-body">
            
            <div class='row'>
              <!-- Input -->
              <div class='col-sm-12'>
                <form  ng-submit="updateStatus(user, user.status)">
                  <input class="form-control" type='text' ng-model='user.status' placeholder='I Love Trees~'>
                </form>
              </div>

              <!-- Status Messages -->
              <div>
                <ul>
                  <li ng-repeat="update in user.updates">{{update.status}}</li>
                </ul>  
              </div>

            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">
            <div class="row" ng-repeat="like in likes">

              <div class="col-sm-8">
                  <div class="thumbnail">
                    <img class="forest" ng-src="{{like.imgUrl}}">
                  </div>
              </div>
              <div class="col-sm-4">
                <div class="caption">
                  <h4>{{like.name}}</h4>
                  <a href="#" class="btn btn-primary" role="button">Like</a>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">

            <div>
              <h3>My Comments</h3>
              <div data-ng-repeat="message in user.messages | orderBy:'-createdat'">
                <div ng-if="imagesLoaded" class="thumb-container">
                  <img src="{{message.imageUrl.imageurl}}" width="75" height="75" style="float:left; margin: 0 7px 7px 0;"/>
                </div>
                <span><strong><a ng-href="#!/trees/{{message.treeid}}">{{ message.name }}</a></strong></span><br>
                <span style="color:#727272;">{{message.createdat | date: 'medium'}}</span>
                <p>{{message.message}}</p>
                <div style="clear:both;"></div>
              </div>
            </div>

          </div>
        </div>      

      </div>
    </div>
  </div>

</section>
